# Tailwind CSS ç§»åŠ¨ç«¯é€‚é…è¯¦è§£

## èƒŒæ™¯

æœ¬æ–‡ä¸»è¦ä»‹ç»å¦‚ä½•ä½¿ç”¨ Tailwind CSS è¿›è¡Œç§»åŠ¨ç«¯é€‚é…ä»¥åŠåŸç†çš„è¯¦è§£ã€‚

## å‰ç½®çŸ¥è¯†

æ¥è§¦è¿‡ Tailwind CSS çš„åŒå­¦åº”è¯¥éƒ½çŸ¥é“ï¼ŒTailwind CSS ä¸­çš„ä¸€ä¸ªå•ä½æ˜¯ `4px`ã€‚

ä¸¾ä¸ªä¾‹å­ ğŸŒ°ï¼šå¹³æ—¶å†™ `tw-mr-1`ï¼Œæœ€ç»ˆä¼šç¼–è¯‘æˆ `margin-right: 0.25rem;`ï¼Œè€Œä¸€èˆ¬ PC ç«¯é»˜è®¤ html çš„ `font-size` æ˜¯ `16px`ï¼Œæ‰€ä»¥ `0.25rem` å°±æ˜¯ `4px`ã€‚ä¹Ÿå°±æœ‰äº†åœ¨ `tailwindcss` ä¸­ä¸€ä¸ªå•ä½å°±æ˜¯ `4px` çš„è¯´æ³•ã€‚

<img width="291" height="87" alt="image" src="https://github.com/user-attachments/assets/86a0b908-7249-4910-941a-b89514aab82c" />

å¯ä»¥åœ¨ `apps/tailwindcss-demo` æ ¹è·¯ç”±ä¸‹æŸ¥çœ‹ï¼Œæ ¹è·¯ç”±ä¸‹ä½¿ç”¨ `16px` ä½œä¸ºåŸºå‡†ã€‚

## ç§»åŠ¨ç«¯é€‚é…

æ ¹æ®ä¸Šé¢çš„å‰ç½®çŸ¥è¯†ï¼Œæˆ‘ä»¬çŸ¥é“ä¸€ä¸ªæ–°çš„ç§»åŠ¨ç«¯é¡¹ç›®æ¥å…¥ `tailwindcss` å…¶å®éå¸¸ç®€å•ï¼Œä»…éœ€å¦‚ä¸‹å‡ æ­¥ï¼š

1. å°† `RootFontSize` é…ç½®ä¸º 16pxã€‚
2. æ³¨å…¥ flexible.js çš„è„šæœ¬ï¼Œéšå±å¹•å®½åº¦å˜åŒ–ç­‰æ¯”è®¾ç½® RootFontSizeã€‚[flexible å‡½æ•°å®ç°](../packages/utils/src/flexible.ts)
3. é…ç½®å¥½ `px2rem` ç­‰ `PostCSS` æ’ä»¶ï¼Œå°†ä»£ç ä¸­çš„ `px` å•ä½è½¬ä¸ºåˆé€‚çš„ `rem` å•ä½ã€‚
4. æ¥å…¥ TailwindCSSã€‚

è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ„‰å¿«çš„è¿›è¡Œ `tailwindcss` åœ¨ç§»åŠ¨ç«¯ä¸Šè¿›è¡Œå¼€å‘äº†ã€‚ä½†ç°å®æƒ…å†µæ˜¯æ¥å…¥çš„é€šå¸¸ä¸æ˜¯ä¸€ä¸ªæ–°é¡¹ç›®ï¼Œæ‰€ä»¥ä¼šå­˜åœ¨æ¯”è¾ƒå¤æ‚çš„åœºæ™¯ï¼ˆå†å²åŸå› ï¼Œå¤§å®¶éƒ½æ‡‚çš„ï¼‰ï¼Œæ¯”å¦‚ï¼š

1. å·²ç»å­˜åœ¨çš„é¡¹ç›® RootFontSize æ˜¯ 100pxï¼Œæ–¹ä¾¿å¼€å‘è¿›è¡Œæ¢ç®—ã€‚
2. åŒä¸€ä¸ªé¡¹ç›®åŒæ—¶å­˜åœ¨ PC ç«¯å’Œç§»åŠ¨ç«¯
3. å·²æœ‰çš„é¡¹ç›®ä½¿ç”¨çš„æ˜¯ `vw` çš„è‡ªé€‚åº”æ–¹æ¡ˆ

ç»è¿‡æ¢ç´¢ï¼Œæˆ‘ä»¬æ‘¸ç´¢å‡ºäº†ä¸€å¥—é€šç”¨çš„æ–¹æ¡ˆï¼Œå¯ä»¥æ»¡è¶³å¤§éƒ¨åˆ†åœºæ™¯ã€‚**æŠŠæ„å»ºæ—¶çš„å•ä½è¿ç§»è‡³è¿è¡Œæ—¶ç¡®å®šï¼Œå¼•å…¥ä¸€ä¸ªä¸­é—´ `css å˜é‡`**

## å®ç°åŸç†

æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼Œæœ‰åˆ å‡ï¼Œå®Œæ•´ä»£ç è§ [gtThemeAdapter](../apps/tailwindcss-demo/src/tailwindcss/themes/index.js)

```js
export const gtThemeAdapter = (unit = "--tpx") => {
  const convert = (value) => `calc(${16 * value} * var(${unit}))`;

  return {
    spacing: () => ({
      ...Array.from({ length: 96 }, (_, index) => index * 0.5)
        .filter((i) => i)
        .reduce((acc, i) => ({ ...acc, [i]: `${convert(i / 4)}` }), {}),
    }),
    lineHeight: {
      3: `${convert(0.75)}` /* 12px */,
      3.25: `${convert(0.8125)}` /* 13px */,
      4: `${convert(1)}` /* 16px */,
      4.5: `${convert(1.125)}` /* 18px */,
      5: `${convert(1.25)}` /* 20px */,
      6: `${convert(1.5)}` /* 24px */,
      6.5: `${convert(1.625)}` /* 26px */,
      7: `${convert(1.75)}` /* 28px */,
      8: `${convert(2)}` /* 32px */,
      9: `${convert(2.25)}` /* 36px */,
      10: `${convert(2.5)}` /* 40px */,
      10.5: `${convert(2.625)}` /* 42px */,
    },
    borderRadius: {
      sm: `${convert(0.125)}` /* 2px */,
      DEFAULT: `${convert(0.25)}` /* 4px */,
      md: `${convert(0.375)}` /* 6px */,
      lg: `${convert(0.5)}` /* 8px */,
      xl: `${convert(0.75)}` /* 12px */,
      "2xl": `${convert(1)}` /* 16px */,
      "3xl": `${convert(1.5)}` /* 24px */,
    },
  };
};
```

ä¿®æ”¹ tailwindcss çš„é…ç½®æ–‡ä»¶ï¼Œå¼•å…¥ `gtThemeAdapter` å‡½æ•°ï¼Œå¹¶é…ç½® `theme` ä¸­çš„ `extend` å±æ€§ã€‚

```js
export default {
  prefix: "tw-",
  content: ["./src/**/*.{html,js,jsx,ts,tsx}"],
  theme: {
    extend: {
      ...gtThemeAdapter(),
      colors,
    },
  },
  plugins: [basePlugin, scrollbarPlugin],
};
```

æˆ‘ä»¬é€šè¿‡ `spacing` åˆ†æä¸€ä¸‹æ˜¯å¦‚ä½•å¤„ç†çš„ã€‚æ ¹æ®ä¸Šè¿°ä»£ç  `spacing` ç”Ÿæˆå¦‚ä¸‹ç»“æœï¼š

```js
0.5: "calc(2 * var(--tpx))",
1: "calc(4 * var(--tpx))",
1.5: "calc(6 * var(--tpx))",
2: "calc(8 * var(--tpx))",
2.5: "calc(10 * var(--tpx))",
3: "calc(12 * var(--tpx))",
3.5: "calc(14 * var(--tpx))",
4: "calc(16 * var(--tpx))",
4.5: "calc(18 * var(--tpx))",
5: "calc(20 * var(--tpx))",
5.5: "calc(22 * var(--tpx))",
6: "calc(24 * var(--tpx))",
6.5: "calc(26 * var(--tpx))",
7: "calc(28 * var(--tpx))",
7.5: "calc(30 * var(--tpx))",
8: "calc(32 * var(--tpx))",
8.5: "calc(34 * var(--tpx))",
9: "calc(36 * var(--tpx))",
9.5: "calc(38 * var(--tpx))",
10: "calc(40 * var(--tpx))",
10.5: "calc(42 * var(--tpx))",
// å…¶ä½™é¢„è®¾å•ä½åŒç†
```

å¯¹æ¯” `tailwindcss` çš„é»˜è®¤é…ç½®

```js
px: '1px',
0: '0px',
1: '0.25rem', // 4px
2: '0.5rem',  // 8px
3: '0.75rem', // 12px
4: '1rem',    // 16px
5: '1.25rem', // 20px
6: '1.5rem',  // 24px
7: '1.75rem', // 28px
8: '2rem',    // 32px
9: '2.25rem', // 36px
10: '2.5rem', // 40px
10.5: '2.625rem', // 42px
// å…¶ä½™é¢„è®¾å•ä½åŒç†
```

é€šè¿‡ä¸Šé¢å¯¹æ¯”ï¼Œå¯ä»¥çŸ¥é“æˆ‘ä»¬åœ¨ `gtThemeAdapter` å‡½æ•°ä¸­ï¼Œå°† `mr-1` è½¬æ¢ä¸º `calc(4 * var(--tpx))`ã€‚åªè¦åœ¨æ ‡å‡†è®¾å¤‡å°ºå¯¸ä¸‹å°† `tpx` å§‹ç»ˆä¿æŒä¸º `1px` çš„å¤§å°ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç»§ç»­æ²¿ç”¨ TailwindCSS çš„â€œ1 ä¸ªåŸºæœ¬å•ä½ä¸º 4pxâ€çš„è§„åˆ™ã€‚

ä»¥ä¸‹æ˜¯ä¸€äº›å…·ä½“æ¡ˆä¾‹ï¼š

- åœ¨æ ‡å‡†è®¾å¤‡å°ºå¯¸ä¸‹ä½¿ç”¨ rem å¸ƒå±€ï¼Œ`RootFontSize` ä¸º 16pxï¼Œ`tpx` ä¸º 0.0625remï¼Œå³ 1 / 16 = 0.0625ã€‚
- åœ¨æ ‡å‡†è®¾å¤‡å°ºå¯¸ä¸‹ä½¿ç”¨ rem å¸ƒå±€ï¼Œ`RootFontSize` ä¸º 100pxï¼Œ`tpx` ä¸º 0.01remï¼Œå³ 1 / 100 = 0.01ã€‚è¯¦æƒ…å¯è§ [apps/tailwindcss-demo/about](../apps/tailwindcss-demo/src/pages/about/index.jsx)
- åœ¨æ ‡å‡†è®¾å¤‡å°ºå¯¸ä¸‹ä½¿ç”¨ vw å¸ƒå±€ï¼Œå‡è®¾å±å¹•å®½åº¦ä¸º 375pxï¼Œ100vw = 375pxï¼Œå› æ­¤ 1vw = 3.75pxï¼Œåˆ™ 1px ä¸º 1vw/3.75ï¼Œå³ `tpx` ä¸º (100/375)vwã€‚
- å¦‚æœç§»åŠ¨ç«¯å’Œ PC ç«¯åœ¨åŒä¸€ä¸ªåº”ç”¨ä¸­ï¼Œé‚£ä¹ˆåœ¨é¡µé¢å°ºå¯¸å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒåŠ¨æ€ä¿®æ”¹ `--tpx` çš„å€¼å³å¯ã€‚ä¾‹å¦‚ï¼Œåœ¨ PC ç«¯è®¾ç½® `--tpx` ä¸º 1pxï¼Œè€Œåœ¨ç§»åŠ¨ç«¯è®¾ç½® `--tpx` ä¸º 0.01rem æˆ–(1/3.75)vwã€‚
